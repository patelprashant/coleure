var __hasProp=Object.prototype.hasOwnProperty;define("goodies",[],function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;return o=document,p=document.documentElement,b=Array.prototype.forEach,d=o.getElementById,c=Element.prototype.getAttribute,e=Element.prototype.setAttribute,f=HTMLHtmlElement.prototype.getElementsByTagName,a=HTMLHtmlElement.prototype.getElementsByClassName,r=function(a,b,c){var d,e,f;return f=m(b),d=new Function("var p=[];with(this){"+f+"}return p.join('');"),e=function(a){return d.call(a)},g("templates",a,e),g("bareTemplates",a,f),c?f:e},u=null,n=null,l=function(a,b,c){return u=b,n=c,a.replace(/\{\*\s*([^\s]+).+?\s*\*\}/g,s)},s=function(a,b){var c;return c=u.indexOf(b),u[c]=null,"{% "+n[c]+" %}"},q=function(a){var b,c,d;d=[],c=[],b=0,a.replace(/\{\*\s*([^\s]+)\s+(.+?)?\s*\*\}/g,function(a,e,f){return d[b]=e,c[b]=f,++b});if(b>0)return{urls:d,scopes:c}},t=function(a){return a.replace(/[\r\t\n\s]/g," ").replace(/'(?=[^%}]*[%}]\})/g,"	").split("'").join("\\'").split("	").join("'")},m=function(a){return("p.push('"+a.replace(/\{\{(.+?)\}\}/g,"',$1,'").split("{%").join("');").split("%}").join("p.push('")+"');").replace(/p\.push\('\s*'\);/g,"")},h=null,g=function(a,b,c){var d,e;return d=(e=h||(h={}))[a]||(e[a]={}),c?d[b]=c:d[b]},i=function(a,b){return h[a][b]=null},j=function(a,b,c){var d;return g(a,b)?(d=g(a,b),d[d.length]=c,!1):(g(a,b,[c]),!0)},k=function(a,b){var c,d;for(c in b)d=b[c],a[c]=d;return a},{async:function(a,b,c){var d,e;return e=a[b],k=k,d=Object.keys,a[b]=function(f){var g,h;return d(f).length<c?(h=f,g=arguments.callee,a[b]=function(a){return g(k(a,h))}):(e.call(a,f),a[b]=e)}},getList:function(a,b){var c,d,e,f,g,h,i,j;c=function(c,g){e[a.indexOf(g)]=c;if(++f===d)return b(e)},d=a.length,e=new Array(d),f=0,j=[];for(h=0,i=a.length;h<i;h++)g=a[h],j.push(this.get(g,c));return j},get:function(a,b){var c,d,e=this;c="downloadsInProgress";if(!j(c,a,b))return;return d=new XMLHttpRequest,d.open("GET",a),this.listen(d,"readystatechange",function(b){var f,h,j,k;if(d.readyState===4&&d.status===200){e.unlisten(b.target,b.type,arguments.callee),h=g(c,a);for(j=0,k=h.length;j<k;j++)f=h[j],f(d.responseText,a);return i(c,a),h.length=0}}),d.send()},json:function(a,b){return this.get(a,function(a){return b(JSON.parse(a))})},forEach:function(a,c){return b.call(a,c)},attr:function(a,b,d,f){var g;return f==null&&(f=!1),g=(d?e:c).call(a,b,d),f&&a.classList.toggle("safariFix"),g},cls:function(b,c){return c?a.call(b,c):a.call(p,b)},tag:function(a,b){return b?f.call(a,b):f.call(p,a)},id:function(a){return d.call(o,a)},listen:function(a,b,c){return c?a.addEventListener(b,c):p.addEventListener(a,b)},unlisten:function(a,b,c){return c?a.removeEventListener(b,c):p.removeEventListener(a,b)},remove:function(a){return a.parentNode.removeChild(a)},hide:function(a){return a.style.display="none"},show:function(a,b){return b==null&&(b="block"),a.style.display=b},templateList:function(a,b,c,d){var e,f,g,h,i,j;d==null&&(d=!1),e=0,f=[],h=function(d){var g;g=c[e],g&&(d="with("+g+"){"+d+"}"),f[e]=d;if(++e===a.length)return b(f)},j=[];for(g in a){if(!__hasProp.call(a,g))continue;i=a[g],j.push(this.template(i,h,d))}return j},template:function(a,b,c){var d,e,f=this;c==null&&(c=!1),d=c?"bareTemplates":"templates",e=g(d,a);if(e)return b(e);d="templatesInProgress";if(!j(d,a,b))return;return this.get(a,function(b){var h,j,k;return b=t(b),k=q(b),j=function(){var f,h,j,k;h=g(d,a),e=r(a,b,c);for(j=0,k=h.length;j<k;j++)f=h[j],f(e);return i(d,a)},h=function(a){return b=l(b,k.urls,a),j()},k?f.templateList(k.urls,h,k.scopes,!0):j()})}}}),define("colors",["./goodies"],function(a){return{_display:function(b){var c,d,e,f,g,h;d=b.colors,f=b.template,e="";for(g=0,h=d.length;g<h;g++)c=d[g],e+=f(c);return a.id("colors").innerHTML=e},load:function(b){var c=this;return a.async(this,"_display",2),a.json(b.colors,function(a){return c._display({colors:a})}),a.template(b.template,function(a){return c._display({template:a})})}}}),define("inspector",["./goodies"],function(a){var b,c,d,e,f,g,h,i,j;return d=null,f=null,e=null,j=function(b){var c,d;return d=a.id("welcome-message"),c=a.id("tests"),b?(a.hide(d),a.show(c)):(a.show(d),a.hide(c))},h=function(g){var h,i,k,l,m,n;i=g.target;if(!i.classList.contains("color"))return;h=i.getAttribute.bind(i),l=a.cls("color-preview"),e={name:h("data-name"),hex:h("data-hex"),rgb:h("data-rgb"),hsl:h("data-hsl")};if(l.length>0&&(g.metaKey||g.ctrlKey))l.length===2&&a.remove(l[+!g.shiftKey]),e.firstHex=a.attr(l[0],"data-hex"),k=f.doubleTemplate,n=2;else{m=l.length;while(m-->0)a.remove(l[0]);k=f.singleTemplate,n=1}return a.attr(d,"data-subjects",n),j(!0),a.template(f.previewTemplate,b),a.template(k,c)},b=function(a){return d.innerHTML+=a(e)},c=function(b){return a.id("tests").innerHTML=b(e)},g=function(b){var d,g,h;d=b.target;if(!d.classList.contains("close"))return;h=a.cls("color-preview").length-1,a.attr(a.id("subjects"),"data-subjects",h,!0),a.remove(d.parentNode),j(h!==0),g=a.cls("color-preview")[0];if(!g)return;return e={hex:a.attr(g,"data-hex")},a.template(f.singleTemplate,c)},i=function(b){return f=b,d=a.id("subjects"),a.listen(a.id("colors"),"click",h),a.listen(a.id("palette_colors"),"click",h),a.listen(a.id("subjects"),"click",g)}}),define("palette",["./goodies"],function(a){var b,c,d,e,f,g,h,i;return g=null,f=null,e=null,b=function(b){var c;return c=b.target,g={name:a.attr(c,"data-name"),hex:a.attr(c,"data-hex"),rgb:a.attr(c,"data-rgb"),hsl:a.attr(c,"data-hsl")},b.dataTransfer.effectAllowed="copy",b.dataTransfer.setData("text","Color added.")},d=function(a){return a.preventDefault(),a.dataTransfer.dropEffect="copy",!1},c=function(b){return a.template(e,h),a.hide(a.id("drop-message"))},h=function(a){var b;return b=document.createElement("i"),f.insertBefore(b,f.firstChild),b.outerHTML=a(g)},i=function(g){var h;return f=a.id("palette_colors"),e=g.template,a.listen(a.id("colors"),"dragstart",b),a.listen(a.id("subjects"),"dragstart",b),h=a.id("palette"),a.listen(h,"dragover",d),a.listen(h,"drop",c)}}),define("keyboard",["./goodies"],function(a){var b,c,d,e;return e=[],d=[],c=[],b=[],a.listen("keydown",function(a){var f,g;g=String.fromCharCode(a.which),f=e.indexOf(g),f!==-1&&d[f]();if(a.metaKey||a.ctrlKey){f=c.indexOf(g);if(f!==-1)return b[f]()}}),{listen:function(a,b){var c;return c=e.length,e[c]=a,d[c]=b},listenWithCtrl:function(a,d){var e;return e=c.length,c[e]=a,b[e]=d}}}),define("settings",[],function(){return{format:"hex",palette:null}}),define("clipboard",["./keyboard","./settings","./goodies"],function(a,b,c){var d,e,f,g,h,i;return f="color",e=c.id("clipboard_handler"),h=function(a){return c.attr(e,"data-hex",c.attr(a,"data-hex")),c.attr(e,"data-rgb",c.attr(a,"data-rgb")),c.attr(e,"data-hsl",c.attr(a,"data-hsl")),e.value=c.attr(a,"data-"+b.format),e.select()},i=function(a){if(a.target.classList.contains(f))return h(a.target)},c.listen(c.id("colors"),"mouseover",i),c.listen(c.id("panels"),"mouseover",i),d=document.createElement("canvas"),d.height=d.width=16,g=d.getContext("2d"),a.listenWithCtrl("C",function(){var a,b,f,h;a=e.value;if(!a)return;return document.title=""+a+" - Coleure",g.clearRect(0,0,16,16),g.fillStyle="#"+c.attr(e,"data-hex"),g.beginPath(),g.arc(8,8,8,0,Math.PI*2,!0),g.closePath(),g.fill(),f=document.createElement("link"),f.id="dynamic-favicon",f.type="image/x-icon",f.rel="shortcut icon",f.href=d.toDataURL("image/x-icon"),h=c.id("dynamic-favicon"),b=document.head||c.tag("head")[0],h&&b.removeChild(h),b.appendChild(f)})}),define("formats",["./settings","./goodies"],function(a,b){var c,d,e;return d=b.cls("set-format"),c=b.id("clipboard_handler"),e=function(e){var f;return f=e.target,a.format=b.attr(f,"id"),b.forEach(d,function(a){return b.attr(a,"data-state","inactive")}),b.attr(f,"data-state","active"),c.value=b.attr(c,"data-"+a.format),c.select()},b.forEach(d,function(a){return b.listen(a,"click",e)})}),window.addEventListener("load",function(){return require(["./colors","./inspector","./palette","./clipboard","./formats"],function(a,b,c){return a.load({colors:"src/pantone.json",template:"templates/color.html"}),b({previewTemplate:"templates/preview.html",singleTemplate:"templates/test/single.html",doubleTemplate:"templates/test/double.html"}),c({template:"templates/color.html"})})}),define("coleure",function(){})