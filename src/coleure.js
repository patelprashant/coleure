var __hasProp=Object.prototype.hasOwnProperty;define("goodies",[],function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;return p=document,q=document.documentElement,c=Array.prototype.forEach,f=Array.prototype.indexOf,e=p.getElementById,d=Element.prototype.getAttribute,g=Element.prototype.setAttribute,a=HTMLHtmlElement.prototype.getElementsByClassName,b=p.createElement,s=function(a,b,c){var d,e,f;return f=n(b),d=new Function("var p=[];with(this){"+f+"}return p.join('');"),e=function(a){return d.call(a)},h("templates",a,e),h("bareTemplates",a,f),c?f:e},v=null,o=null,m=function(a,b,c){return v=b,o=c,a.replace(/\{\*\s*([^\s]+).+?\s*\*\}/g,t)},t=function(a,b){var c;return c=v.indexOf(b),v[c]=null,"{% "+o[c]+" %}"},r=function(a){var b,c,d;d=[],c=[],b=0,a.replace(/\{\*\s*([^\s]+)\s+(.+?)?\s*\*\}/g,function(a,e,f){return d[b]=e,c[b]=f,++b});if(b>0)return{urls:d,scopes:c}},u=function(a){return a.replace(/[\r\t\n\s]/g," ").replace(/'(?=[^%}]*[%}]\})/g,"	").split("'").join("\\'").split("	").join("'")},n=function(a){return("p.push('"+a.replace(/\{\{(.+?)\}\}/g,"',$1,'").split("{%").join("');").split("%}").join("p.push('")+"');").replace(/p\.push\('\s*'\);/g,"")},i=null,h=function(a,b,c){var d,e;return d=(e=i||(i={}))[a]||(e[a]={}),c?d[b]=c:d[b]},j=function(a,b){return i[a][b]=null},k=function(a,b,c){var d;return h(a,b)?(d=h(a,b),d[d.length]=c,!1):(h(a,b,[c]),!0)},l=function(a,b){var c,d;for(c in b)d=b[c],a[c]=d;return a},{async:function(a,b,c){var d,e;return e=a[b],l=l,d=Object.keys,a[b]=function(f){var g,h;return d(f).length<c?(h=f,g=arguments.callee,a[b]=function(a){return g(l(a,h))}):(e.call(a,f),a[b]=e)}},getList:function(a,b){var c,d,e,f,g,h,i,j;c=function(c,g){e[a.indexOf(g)]=c;if(++f===d)return b(e)},d=a.length,e=new Array(d),f=0,j=[];for(h=0,i=a.length;h<i;h++)g=a[h],j.push(this.get(g,c));return j},get:function(a,b){var c,d,e=this;c="downloadsInProgress";if(!k(c,a,b))return;return d=new XMLHttpRequest,d.open("GET",a),this.listen(d,"readystatechange",function(b){var f,g,i,k;if(d.readyState===4&&d.status===200){e.unlisten(b.target,b.type,arguments.callee),g=h(c,a);for(i=0,k=g.length;i<k;i++)f=g[i],f(d.responseText,a);return j(c,a),g.length=0}}),d.send()},json:function(a,b){return this.get(a,function(a){return b(JSON.parse(a))})},forEach:function(a,b){return c.call(a,b)},indexOf:function(a,b){return f.call(a,b)},create:function(a){return b.call(p,a)},attr:function(a,b,c,e){var f;return e==null&&(e=!1),f=(c?g:d).call(a,b,c),e&&a.classList.toggle("safariFix"),f},cls:function(b,c){return c?a.call(b,c):a.call(q,b)},tag:function(a,b){return b?a.getElementsByTagName(b):q.getElementsByTagName(a)},id:function(a){return e.call(p,a)},listen:function(a,b,c){return c?a.addEventListener(b,c):q.addEventListener(a,b)},unlisten:function(a,b,c){return c?a.removeEventListener(b,c):q.removeEventListener(a,b)},remove:function(a){return a.parentNode.removeChild(a)},hide:function(a){return a.style.display="none"},show:function(a,b){return b==null&&(b="block"),a.style.display=b},templateList:function(a,b,c,d){var e,f,g,h,i,j;d==null&&(d=!1),e=0,f=[],h=function(d){var g;g=c[e],g&&(d="with("+g+"){"+d+"}"),f[e]=d;if(++e===a.length)return b(f)},j=[];for(g in a){if(!__hasProp.call(a,g))continue;i=a[g],j.push(this.template(i,h,d))}return j},template:function(a,b,c){var d,e,f=this;c==null&&(c=!1),d=c?"bareTemplates":"templates",e=h(d,a);if(e)return b(e);d="templatesInProgress";if(!k(d,a,b))return;return this.get(a,function(b){var g,i,k;return b=u(b),k=r(b),i=function(){var f,g,i,k;g=h(d,a),e=s(a,b,c);for(i=0,k=g.length;i<k;i++)f=g[i],f(e);return j(d,a)},g=function(a){return b=m(b,k.urls,a),i()},k?f.templateList(k.urls,g,k.scopes,!0):i()})}}}),define("colors",["./goodies"],function(a){return{_display:function(b){var c,d,e,f,g,h;d=b.colors,f=b.template,e="";for(g=0,h=d.length;g<h;g++)c=d[g],e+=f(c);return a.id("colors").innerHTML=e},load:function(b){var c=this;return a.async(this,"_display",2),a.json(b.colors,function(a){return c._display({colors:a})}),a.template(b.template,function(a){return c._display({template:a})})}}}),define("inspector",["./goodies"],function(a){var b,c,d,e,f,g,h,i,j;return d=null,f=null,e=null,j=function(b){var c,d;return d=a.id("welcome-message"),c=a.id("tests"),b?(a.hide(d),a.show(c)):(a.show(d),a.hide(c))},h=function(g){var h,i,k,l,m,n;i=g.target;if(!i.classList.contains("color"))return;h=i.getAttribute.bind(i),l=a.cls("color-preview"),e={name:h("data-name"),hex:h("data-hex"),rgb:h("data-rgb"),hsl:h("data-hsl")};if(l.length>0&&(g.metaKey||g.ctrlKey))l.length===2&&a.remove(l[+!g.shiftKey]),e.firstHex=a.attr(l[0],"data-hex"),k=f.doubleTemplate,n=2;else{m=l.length;while(m-->0)a.remove(l[0]);k=f.singleTemplate,n=1}return a.attr(d,"data-subjects",n),j(!0),a.template(f.previewTemplate,b),a.template(k,c)},b=function(a){return d.innerHTML+=a(e)},c=function(b){return a.id("tests").innerHTML=b(e)},g=function(b){var d,g,h;d=b.target;if(!d.classList.contains("close"))return;h=a.cls("color-preview").length-1,a.attr(a.id("subjects"),"data-subjects",h,!0),a.remove(d.parentNode),j(h!==0),g=a.cls("color-preview")[0];if(!g)return;return e={hex:a.attr(g,"data-hex")},a.template(f.singleTemplate,c)},i=function(b){return f=b,d=a.id("subjects"),a.listen(a.id("colors"),"click",h),a.listen(a.id("palette_colors"),"click",h),a.listen(a.id("subjects"),"click",g)}}),define("settings",["./goodies"],function(a){var b,c;return a.listen(window,"unload",function(a){return localStorage.settings=JSON.stringify(b)}),(c=localStorage.settings)?b=JSON.parse(c):b={format:"hex",activePaletteIndex:0,palettes:[{name:"Default",colors:[]}]}}),define("palette",["./goodies","./settings"],function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x;return r=null,s=null,q=null,p=null,j=null,h=null,c=null,e=function(b){var c,d;return c=b.target,d={name:a.attr(c,"data-name"),hex:a.attr(c,"data-hex"),rgb:a.attr(c,"data-rgb"),hsl:a.attr(c,"data-hsl")},b.dataTransfer.effectAllowed="copy",b.dataTransfer.setData("text",JSON.stringify(d))},g=function(a){return a.preventDefault(),a.dataTransfer.dropEffect="copy"},f=function(b){var d;return b.preventDefault(),d=JSON.parse(b.dataTransfer.getData("text")),a.template(h,function(a){return k(a,d)}),a.hide(j),c.push(d)},m=function(b){var c,d;return b.dataTransfer.effectAllowed="move",d=b.target,c=a.indexOf(d.parentNode.children,d),b.dataTransfer.setData("text",c)},o=function(a){return a.preventDefault(),a.dataTransfer.dropEffect="move"},n=function(b){var d;return b.preventDefault(),d=b.dataTransfer.getData("text"),a.remove(p.children.item(d)),c.splice(c.length-d-1,1)},l=function(a){var b;return b=a.target,i(b.value),b.value=""},t=function(b){var c;return c=b.target,c.classList.contains("remove-option")?u(c.parentNode):(c.classList.contains("select-option")||(c=c.parentNode),x(a.indexOf(q,c)))},i=function(a){return b.palettes.push({name:a,colors:[]}),d(a),x(q.length-1)},d=function(b){var c;return c=a.create("li"),s.appendChild(c),c.outerHTML="<li class='select-option'>\n  <span class='name-option'>"+b+"</span>\n  <a class='remove-option right'>&times;</a>\n</li>"},x=function(d){var e,f;if(b.activePaletteIndex===d)return;return f=q[b.activePaletteIndex],f&&f.classList.remove("selected"),e=q[d],e.classList.add("selected"),b.activePaletteIndex=d,c=b.palettes[d].colors,console.log(b.palettes[d]),r.innerHTML=a.cls(e,"name-option")[0].innerHTML,a.template(h,v)},v=function(b){var d,e,f;while(p.firstChild)p.removeChild(p.firstChild);for(e=0,f=c.length;e<f;e++)d=c[e],k(b,d);return p.children.length?a.hide(j):a.show(j)},u=function(c){var d;return d=a.indexOf(q,c),b.palettes.splice(d,1),a.remove(c)},k=function(b,c){var d;return d=a.create("i"),p.insertBefore(d,p.firstChild),d.outerHTML=b(c)},w=function(c){var i,k,u,v,w,y,z,A;w=a.cls("select-options")[0],r=a.cls("select-input")[0],s=a.tag(w,"ul")[0],a.listen(s,"click",t),q=s.children,u=a.tag(w,"input")[0],a.listen(u,"change",l),k=a.id("palette"),a.listen(k,"dragenter",g),a.listen(k,"dragover",g),a.listen(k,"drop",f),a.listen(a.id("colors"),"dragstart",e),a.listen(a.id("subjects"),"dragstart",e),p=a.id("palette_colors"),a.listen(p,"dragstart",m),a.listen(a.id("colors"),"dragenter",o),a.listen(a.id("colors"),"dragover",o),a.listen(a.id("colors"),"drop",n),j=a.id("drop-message"),h=c.template,A=b.palettes;for(y=0,z=A.length;y<z;y++)v=A[y],d(v.name);return i=b.activePaletteIndex,b.activePaletteIndex=-1,x(i)}}),define("keyboard",["./goodies"],function(a){var b,c,d,e;return e=[],d=[],c=[],b=[],a.listen("keydown",function(a){var f,g;g=String.fromCharCode(a.which),f=e.indexOf(g),f!==-1&&d[f]();if(a.metaKey||a.ctrlKey){f=c.indexOf(g);if(f!==-1)return b[f]()}}),{listen:function(a,b){var c;return c=e.length,e[c]=a,d[c]=b},listenWithCtrl:function(a,d){var e;return e=c.length,c[e]=a,b[e]=d}}}),define("clipboard",["./keyboard","./settings","./goodies"],function(a,b,c){var d,e,f,g,h,i;return f="color",e=c.id("clipboard_handler"),h=function(a){return c.attr(e,"data-hex",c.attr(a,"data-hex")),c.attr(e,"data-rgb",c.attr(a,"data-rgb")),c.attr(e,"data-hsl",c.attr(a,"data-hsl")),e.value=c.attr(a,"data-"+b.format),e.select()},i=function(a){if(a.target.classList.contains(f))return h(a.target)},c.listen(c.id("colors"),"mouseover",i),c.listen(c.id("panels"),"mouseover",i),d=document.createElement("canvas"),d.height=d.width=16,g=d.getContext("2d"),a.listenWithCtrl("C",function(){var a,b,f,h;a=e.value;if(!a)return;return document.title=""+a+" - Coleure",g.clearRect(0,0,16,16),g.fillStyle="#"+c.attr(e,"data-hex"),g.beginPath(),g.arc(8,8,8,0,Math.PI*2,!0),g.closePath(),g.fill(),f=document.createElement("link"),f.id="dynamic-favicon",f.type="image/x-icon",f.rel="shortcut icon",f.href=d.toDataURL("image/x-icon"),h=c.id("dynamic-favicon"),b=document.head||c.tag("head")[0],h&&b.removeChild(h),b.appendChild(f)})}),define("formats",["./settings","./goodies"],function(a,b){var c,d,e;return d=b.cls("set-format"),c=b.id("clipboard_handler"),b.attr(b.id(a.format),"data-state","active"),e=function(e){var f;return f=e.target,a.format=b.attr(f,"id"),b.forEach(d,function(a){return b.attr(a,"data-state","inactive")}),b.attr(f,"data-state","active"),c.value=b.attr(c,"data-"+a.format),c.select()},b.forEach(d,function(a){return b.listen(a,"click",e)})}),window.addEventListener("load",function(){return require(["./colors","./inspector","./palette","./clipboard","./formats"],function(a,b,c){return a.load({colors:"src/pantone.json",template:"templates/color.html"}),b({previewTemplate:"templates/preview.html",singleTemplate:"templates/test/single.html",doubleTemplate:"templates/test/double.html"}),c({template:"templates/color.html"})})}),define("coleure",function(){})