var __hasProp=Object.prototype.hasOwnProperty;define("goodies",[],function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;return q=document,r=document.documentElement,c=Array.prototype.forEach,f=Array.prototype.indexOf,e=q.getElementById,d=Element.prototype.getAttribute,g=Element.prototype.setAttribute,h=HTMLHtmlElement.prototype.getElementsByTagName,a=HTMLHtmlElement.prototype.getElementsByClassName,b=q.createElement,t=function(a,b,c){var d,e,f;return f=o(b),d=new Function("var p=[];with(this){"+f+"}return p.join('');"),e=function(a){return d.call(a)},i("templates",a,e),i("bareTemplates",a,f),c?f:e},w=null,p=null,n=function(a,b,c){return w=b,p=c,a.replace(/\{\*\s*([^\s]+).+?\s*\*\}/g,u)},u=function(a,b){var c;return c=w.indexOf(b),w[c]=null,"{% "+p[c]+" %}"},s=function(a){var b,c,d;d=[],c=[],b=0,a.replace(/\{\*\s*([^\s]+)\s+(.+?)?\s*\*\}/g,function(a,e,f){return d[b]=e,c[b]=f,++b});if(b>0)return{urls:d,scopes:c}},v=function(a){return a.replace(/[\r\t\n\s]/g," ").replace(/'(?=[^%}]*[%}]\})/g,"	").split("'").join("\\'").split("	").join("'")},o=function(a){return("p.push('"+a.replace(/\{\{(.+?)\}\}/g,"',$1,'").split("{%").join("');").split("%}").join("p.push('")+"');").replace(/p\.push\('\s*'\);/g,"")},j=null,i=function(a,b,c){var d,e;return d=(e=j||(j={}))[a]||(e[a]={}),c?d[b]=c:d[b]},k=function(a,b){return j[a][b]=null},l=function(a,b,c){var d;return i(a,b)?(d=i(a,b),d[d.length]=c,!1):(i(a,b,[c]),!0)},m=function(a,b){var c,d;for(c in b)d=b[c],a[c]=d;return a},{async:function(a,b,c){var d,e;return e=a[b],m=m,d=Object.keys,a[b]=function(f){var g,h;return d(f).length<c?(h=f,g=arguments.callee,a[b]=function(a){return g(m(a,h))}):(e.call(a,f),a[b]=e)}},getList:function(a,b){var c,d,e,f,g,h,i,j;c=function(c,g){e[a.indexOf(g)]=c;if(++f===d)return b(e)},d=a.length,e=new Array(d),f=0,j=[];for(h=0,i=a.length;h<i;h++)g=a[h],j.push(this.get(g,c));return j},get:function(a,b){var c,d,e=this;c="downloadsInProgress";if(!l(c,a,b))return;return d=new XMLHttpRequest,d.open("GET",a),this.listen(d,"readystatechange",function(b){var f,g,h,j;if(d.readyState===4&&d.status===200){e.unlisten(b.target,b.type,arguments.callee),g=i(c,a);for(h=0,j=g.length;h<j;h++)f=g[h],f(d.responseText,a);return k(c,a),g.length=0}}),d.send()},json:function(a,b){return this.get(a,function(a){return b(JSON.parse(a))})},forEach:function(a,b){return c.call(a,b)},indexOf:function(a,b){return f.call(a,b)},create:function(a){return b.call(q,a)},attr:function(a,b,c,e){var f;return e==null&&(e=!1),f=(c?g:d).call(a,b,c),e&&a.classList.toggle("safariFix"),f},cls:function(b,c){return c?a.call(b,c):a.call(r,b)},tag:function(a,b){return b?h.call(a,b):h.call(r,a)},id:function(a){return e.call(q,a)},listen:function(a,b,c){return c?a.addEventListener(b,c):r.addEventListener(a,b)},unlisten:function(a,b,c){return c?a.removeEventListener(b,c):r.removeEventListener(a,b)},remove:function(a){return a.parentNode.removeChild(a)},hide:function(a){return a.style.display="none"},show:function(a,b){return b==null&&(b="block"),a.style.display=b},templateList:function(a,b,c,d){var e,f,g,h,i,j;d==null&&(d=!1),e=0,f=[],h=function(d){var g;g=c[e],g&&(d="with("+g+"){"+d+"}"),f[e]=d;if(++e===a.length)return b(f)},j=[];for(g in a){if(!__hasProp.call(a,g))continue;i=a[g],j.push(this.template(i,h,d))}return j},template:function(a,b,c){var d,e,f=this;c==null&&(c=!1),d=c?"bareTemplates":"templates",e=i(d,a);if(e)return b(e);d="templatesInProgress";if(!l(d,a,b))return;return this.get(a,function(b){var g,h,j;return b=v(b),j=s(b),h=function(){var f,g,h,j;g=i(d,a),e=t(a,b,c);for(h=0,j=g.length;h<j;h++)f=g[h],f(e);return k(d,a)},g=function(a){return b=n(b,j.urls,a),h()},j?f.templateList(j.urls,g,j.scopes,!0):h()})}}}),define("colors",["./goodies"],function(a){return{_display:function(b){var c,d,e,f,g,h;d=b.colors,f=b.template,e="";for(g=0,h=d.length;g<h;g++)c=d[g],e+=f(c);return a.id("colors").innerHTML=e},load:function(b){var c=this;return a.async(this,"_display",2),a.json(b.colors,function(a){return c._display({colors:a})}),a.template(b.template,function(a){return c._display({template:a})})}}}),define("inspector",["./goodies"],function(a){var b,c,d,e,f,g,h,i,j;return d=null,f=null,e=null,j=function(b){var c,d;return d=a.id("welcome-message"),c=a.id("tests"),b?(a.hide(d),a.show(c)):(a.show(d),a.hide(c))},h=function(g){var h,i,k,l,m,n;i=g.target;if(!i.classList.contains("color"))return;h=i.getAttribute.bind(i),l=a.cls("color-preview"),e={name:h("data-name"),hex:h("data-hex"),rgb:h("data-rgb"),hsl:h("data-hsl")};if(l.length>0&&(g.metaKey||g.ctrlKey))l.length===2&&a.remove(l[+!g.shiftKey]),e.firstHex=a.attr(l[0],"data-hex"),k=f.doubleTemplate,n=2;else{m=l.length;while(m-->0)a.remove(l[0]);k=f.singleTemplate,n=1}return a.attr(d,"data-subjects",n),j(!0),a.template(f.previewTemplate,b),a.template(k,c)},b=function(a){return d.innerHTML+=a(e)},c=function(b){return a.id("tests").innerHTML=b(e)},g=function(b){var d,g,h;d=b.target;if(!d.classList.contains("close"))return;h=a.cls("color-preview").length-1,a.attr(a.id("subjects"),"data-subjects",h,!0),a.remove(d.parentNode),j(h!==0),g=a.cls("color-preview")[0];if(!g)return;return e={hex:a.attr(g,"data-hex")},a.template(f.singleTemplate,c)},i=function(b){return f=b,d=a.id("subjects"),a.listen(a.id("colors"),"click",h),a.listen(a.id("palette_colors"),"click",h),a.listen(a.id("subjects"),"click",g)}}),define("settings",[],function(){return{format:"hex",currentPalette:0,palettes:[[]]}}),define("palette",["./goodies","./settings"],function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o;return j=null,i=null,h=null,k=null,m=null,e=function(b){var c;return c=b.target,j={name:a.attr(c,"data-name"),hex:a.attr(c,"data-hex"),rgb:a.attr(c,"data-rgb"),hsl:a.attr(c,"data-hsl")},b.dataTransfer.effectAllowed="copy",b.dataTransfer.setData("text","Color added.")},g=function(a){return a.preventDefault(),a.dataTransfer.dropEffect="copy"},f=function(b){return b.preventDefault(),a.template(h,l),a.hide(a.id("drop-message")),m.push(j)},l=function(a){var b;return b=document.createElement("i"),i.insertBefore(b,i.firstChild),b.outerHTML=a(j)},n=function(a){var b,c,d,e;while(i.firstChild)i.removeChild(i.firstChild);e=[];for(c=0,d=m.length;c<d;c++)b=m[c],j=b,e.push(l(a));return e},d=function(c){var d,e,f;e=c.target;if(!e.classList.contains("select-option"))return;return d=a.indexOf(a.tag(k,"li"),e),b.currentPalette=d,m=(f=b.palettes)[d]||(f[d]=[]),a.template(h,n)},c=function(b){var c,d;return d=b.target,c=a.create("li"),k.appendChild(c),c.outerHTML="<li class='select-option'>"+d.value+"</li>",d.value=""},o=function(j){var l,n,o;return o=a.cls("select-options")[0],k=a.tag(o,"ul")[0],a.listen(k,"click",d),n=a.tag(o,"input")[0],a.listen(n,"change",c),l=a.id("palette"),a.listen(l,"dragenter",g),a.listen(l,"dragover",g),a.listen(l,"drop",f),a.listen(a.id("colors"),"dragstart",e),a.listen(a.id("subjects"),"dragstart",e),i=a.id("palette_colors"),h=j.template,m=b.palettes[b.currentPalette]}}),define("keyboard",["./goodies"],function(a){var b,c,d,e;return e=[],d=[],c=[],b=[],a.listen("keydown",function(a){var f,g;g=String.fromCharCode(a.which),f=e.indexOf(g),f!==-1&&d[f]();if(a.metaKey||a.ctrlKey){f=c.indexOf(g);if(f!==-1)return b[f]()}}),{listen:function(a,b){var c;return c=e.length,e[c]=a,d[c]=b},listenWithCtrl:function(a,d){var e;return e=c.length,c[e]=a,b[e]=d}}}),define("clipboard",["./keyboard","./settings","./goodies"],function(a,b,c){var d,e,f,g,h,i;return f="color",e=c.id("clipboard_handler"),h=function(a){return c.attr(e,"data-hex",c.attr(a,"data-hex")),c.attr(e,"data-rgb",c.attr(a,"data-rgb")),c.attr(e,"data-hsl",c.attr(a,"data-hsl")),e.value=c.attr(a,"data-"+b.format),e.select()},i=function(a){if(a.target.classList.contains(f))return h(a.target)},c.listen(c.id("colors"),"mouseover",i),c.listen(c.id("panels"),"mouseover",i),d=document.createElement("canvas"),d.height=d.width=16,g=d.getContext("2d"),a.listenWithCtrl("C",function(){var a,b,f,h;a=e.value;if(!a)return;return document.title=""+a+" - Coleure",g.clearRect(0,0,16,16),g.fillStyle="#"+c.attr(e,"data-hex"),g.beginPath(),g.arc(8,8,8,0,Math.PI*2,!0),g.closePath(),g.fill(),f=document.createElement("link"),f.id="dynamic-favicon",f.type="image/x-icon",f.rel="shortcut icon",f.href=d.toDataURL("image/x-icon"),h=c.id("dynamic-favicon"),b=document.head||c.tag("head")[0],h&&b.removeChild(h),b.appendChild(f)})}),define("formats",["./settings","./goodies"],function(a,b){var c,d,e;return d=b.cls("set-format"),c=b.id("clipboard_handler"),e=function(e){var f;return f=e.target,a.format=b.attr(f,"id"),b.forEach(d,function(a){return b.attr(a,"data-state","inactive")}),b.attr(f,"data-state","active"),c.value=b.attr(c,"data-"+a.format),c.select()},b.forEach(d,function(a){return b.listen(a,"click",e)})}),window.addEventListener("load",function(){return require(["./colors","./inspector","./palette","./clipboard","./formats"],function(a,b,c){return a.load({colors:"src/pantone.json",template:"templates/color.html"}),b({previewTemplate:"templates/preview.html",singleTemplate:"templates/test/single.html",doubleTemplate:"templates/test/double.html"}),c({template:"templates/color.html"})})}),define("coleure",function(){})