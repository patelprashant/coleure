(function(e,t){if(typeof define==="function"&&define.amd){define(["exports"],t)}else if(typeof exports!=="undefined"){t(exports)}else{t(e)}})(this,function(e){function n(e){return t(e,48,57)}function r(e){return n(e)||t(e,65,70)||t(e,97,102)}function i(e){return t(e,65,90)}function s(e){return t(e,97,122)}function o(e){return i(e)||s(e)}function u(e){return e>=160}function a(e){return o(e)||u(e)||e==95}function f(e){return a(e)||n(e)||e==45}function l(e){return t(e,0,8)||t(e,14,31)||t(e,127,159)}function c(e){return e==10||e==12}function h(e){return c(e)||e==9||e==32}function p(e){return c(e)||isNaN(e)}function v(e,t){if(t==undefined)t={transformFunctionWhitespace:false,scientificNotation:false};var i=-1;var s=[];var o="data";var u;var v;var m=0;var g=0;var D=0;var W=function(){m+=1;D=g;g=0};var X={line:m,column:g};var V=function(t){if(t===undefined)t=1;return e.charCodeAt(i+t)};var $=function(t){if(t===undefined)t=1;i+=t;u=e.charCodeAt(i);if(c(u))W();else g+=t;return true};var J=function(){i-=1;if(c(u)){m-=1;g=D}else{g-=1}X.line=m;X.column=g;return true};var K=function(){return i>=e.length};var Q=function(){};var G=function(e){if(e){e.finish()}else{e=v.finish()}if(t.loc===true){e.loc={};e.loc.start={line:X.line,column:X.column};X={line:m,column:g};e.loc.end=X}s.push(e);v=undefined;return true};var Y=function(e){v=e;return true};var Z=function(){console.log("Parse error at index "+i+", processing codepoint 0x"+u.toString(16)+" in state "+o+".");return true};var et=function(e){console.log("MAJOR SPEC ERROR: "+e);return true};var tt=function(e){o=e;return true};var nt=function(){$();if(r(u)){var e=[];for(var t=0;t<6;t++){if(r(u)){e.push(u);$()}else{break}}var n=parseInt(e.map(String.fromCharCode).join(""),16);if(n>d)n=65533;if(!h(u))J();return n}else{return u}};for(;;){if(i>e.length*2)return"I'm infinite-looping!";$();switch(o){case"data":if(h(u)){G(new w);while(h(V()))$()}else if(u==34)tt("double-quote-string");else if(u==35)tt("hash");else if(u==39)tt("single-quote-string");else if(u==40)G(new A);else if(u==41)G(new O);else if(u==43){if(n(V())||V()==46&&n(V(2)))tt("number")&&J();else G(new _(u))}else if(u==45){if(V(1)==45&&V(2)==62)$(2)&&G(new S);else if(n(V())||V(1)==46&&n(V(2)))tt("number")&&J();else tt("ident")&&J()}else if(u==46){if(n(V()))tt("number")&&J();else G(new _(u))}else if(u==47){if(V()==42)$()&&tt("comment");else G(new _(u))}else if(u==58)G(new x);else if(u==59)G(new T);else if(u==60){if(V(1)==33&&V(2)==45&&V(3)==45)$(3)&&G(new E);else G(new _(u))}else if(u==64)tt("at-keyword");else if(u==91)G(new k);else if(u==92){if(p(V()))Z()&&G(new _(u));else tt("ident")&&J()}else if(u==93)G(new L);else if(u==123)G(new N);else if(u==125)G(new C);else if(n(u))tt("number")&&J();else if(u==85||u==117){if(V(1)==43&&r(V(2)))$()&&tt("unicode-range");else tt("ident")&&J()}else if(a(u))tt("ident")&&J();else if(K()){G(new M);return s}else G(new _(u));break;case"double-quote-string":if(v==undefined)Y(new F);if(u==34)G()&&tt("data");else if(K())Z()&&G()&&tt("data")&&J();else if(c(u))Z()&&G(new y)&&tt("data")&&J();else if(u==92){if(p(V()))Z()&&G(new y)&&tt("data");else if(c(V()))$();else v.append(nt())}else v.append(u);break;case"single-quote-string":if(v==undefined)Y(new F);if(u==39)G()&&tt("data");else if(K())Z()&&G()&&tt("data");else if(c(u))Z()&&G(new y)&&tt("data")&&J();else if(u==92){if(p(V()))Z()&&G(new y)&&tt("data");else if(c(V()))$();else v.append(nt())}else v.append(u);break;case"hash":if(f(u))Y(new j(u))&&tt("hash-rest");else if(u==92){if(p(V()))Z()&&G(new _(35))&&tt("data")&&J();else Y(new j(nt()))&&tt("hash-rest")}else G(new _(35))&&tt("data")&&J();break;case"hash-rest":if(f(u))v.append(u);else if(u==92){if(p(V()))Z()&&G()&&tt("data")&&J();else v.append(nt())}else G()&&tt("data")&&J();break;case"comment":if(u==42){if(V()==47)$()&&tt("data");else Q()}else if(K())Z()&&tt("data")&&J();else Q();break;case"at-keyword":if(u==45){if(a(V()))Y(new B(45))&&tt("at-keyword-rest");else if(V(1)==92&&!p(V(2)))Y(new AtKeywordtoken(45))&&tt("at-keyword-rest");else Z()&&G(new _(64))&&tt("data")&&J()}else if(a(u))Y(new B(u))&&tt("at-keyword-rest");else if(u==92){if(p(V()))Z()&&G(new _(35))&&tt("data")&&J();else Y(new B(nt()))&&tt("at-keyword-rest")}else G(new _(64))&&tt("data")&&J();break;case"at-keyword-rest":if(f(u))v.append(u);else if(u==92){if(p(V()))Z()&&G()&&tt("data")&&J();else v.append(nt())}else G()&&tt("data")&&J();break;case"ident":if(u==45){if(a(V()))Y(new P(u))&&tt("ident-rest");else if(V(1)==92&&!p(V(2)))Y(new P(u))&&tt("ident-rest");else G(new _(45))&&tt("data")}else if(a(u))Y(new P(u))&&tt("ident-rest");else if(u==92){if(p(V()))Z()&&tt("data")&&J();else Y(new P(nt()))&&tt("ident-rest")}else et("Hit the generic 'else' clause in ident state.")&&tt("data")&&J();break;case"ident-rest":if(f(u))v.append(u);else if(u==92){if(p(V()))Z()&&G()&&tt("data")&&J();else v.append(nt())}else if(u==40){if(v.ASCIImatch("url"))tt("url");else G(new H(v))&&tt("data")}else if(h(u)&&t.transformFunctionWhitespace)tt("transform-function-whitespace")&&J();else G()&&tt("data")&&J();break;case"transform-function-whitespace":if(h(V()))Q();else if(u==40)G(new H(v))&&tt("data");else G()&&tt("data")&&J();break;case"number":Y(new q);if(u==45){if(n(V()))$()&&v.append([45,u])&&tt("number-rest");else if(V(1)==46&&n(V(2)))$(2)&&v.append([45,46,u])&&tt("number-fraction");else tt("data")&&J()}else if(u==43){if(n(V()))$()&&v.append([43,u])&&tt("number-rest");else if(V(1)==46&&n(V(2)))$(2)&&v.append([43,46,u])&&tt("number-fraction");else tt("data")&&J()}else if(n(u))v.append(u)&&tt("number-rest");else if(u==46){if(n(V()))$()&&v.append([46,u])&&tt("number-fraction");else tt("data")&&J()}else tt("data")&&J();break;case"number-rest":if(n(u))v.append(u);else if(u==46){if(n(V()))$()&&v.append([46,u])&&tt("number-fraction");else G()&&tt("data")&&J()}else if(u==37)G(new R(v))&&tt("data");else if(u==69||u==101){if(n(V()))$()&&v.append([37,u])&&tt("sci-notation");else if((V(1)==43||V(1)==45)&&n(V(2)))v.append([37,V(1),V(2)])&&$(2)&&tt("sci-notation");else Y(new U(v,u))&&tt("dimension")}else if(u==45){if(a(V()))$()&&Y(new U(v,[45,u]))&&tt("dimension");else if(V(1)==92&&p(V(2)))Z()&&G()&&tt("data")&&J();else if(V(1)==92)$()&&Y(new U(v,[45,nt()]))&&tt("dimension");else G()&&tt("data")&&J()}else if(a(u))Y(new U(v,u))&&tt("dimension");else if(u==92){if(p(V))Z()&&G()&&tt("data")&&J();else Y(new U(v,nt))&&tt("dimension")}else G()&&tt("data")&&J();break;case"number-fraction":v.type="number";if(n(u))v.append(u);else if(u==37)G(new R(v))&&tt("data");else if(u==69||u==101){if(n(V()))$()&&v.append([101,u])&&tt("sci-notation");else if((V(1)==43||V(1)==45)&&n(V(2)))v.append([101,V(1),V(2)])&&$(2)&&tt("sci-notation");else Y(new U(v,u))&&tt("dimension")}else if(u==45){if(a(V()))$()&&Y(new U(v,[45,u]))&&tt("dimension");else if(V(1)==92&&p(V(2)))Z()&&G()&&tt("data")&&J();else if(V(1)==92)$()&&Y(new U(v,[45,nt()]))&&tt("dimension");else G()&&tt("data")&&J()}else if(a(u))Y(new U(v,u))&&tt("dimension");else if(u==92){if(p(V))Z()&&G()&&tt("data")&&J();else Y(new U(v,nt()))&&tt("dimension")}else G()&&tt("data")&&J();break;case"dimension":if(f(u))v.append(u);else if(u==92){if(p(V()))Z()&&G()&&tt("data")&&J();else v.append(nt())}else G()&&tt("data")&&J();break;case"sci-notation":v.type="number";if(n(u))v.append(u);else G()&&tt("data")&&J();break;case"url":if(K())Z()&&G(new b)&&tt("data");else if(u==34)tt("url-double-quote");else if(u==39)tt("url-single-quote");else if(u==41)G(new I)&&tt("data");else if(h(u))Q();else tt("url-unquoted")&&J();break;case"url-double-quote":if(!(v instanceof I))Y(new I);if(K())Z()&&G(new b)&&tt("data");else if(u==34)tt("url-end");else if(c(u))Z()&&tt("bad-url");else if(u==92){if(c(V()))$();else if(p(V()))Z()&&G(new b)&&tt("data")&&J();else v.append(nt())}else v.append(u);break;case"url-single-quote":if(!(v instanceof I))Y(new I);if(K())Z()&&G(new b)&&tt("data");else if(u==39)tt("url-end");else if(c(u))Z()&&tt("bad-url");else if(u==92){if(c(V()))$();else if(p(V()))Z()&&G(new b)&&tt("data")&&J();else v.append(nt())}else v.append(u);break;case"url-end":if(K())Z()&&G(new b)&&tt("data");else if(h(u))Q();else if(u==41)G()&&tt("data");else Z()&&tt("bad-url")&&J();break;case"url-unquoted":if(!(v instanceof I))Y(new I);if(K())Z()&&G(new b)&&tt("data");else if(h(u))tt("url-end");else if(u==41)G()&&tt("data");else if(u==34||u==39||u==40||l(u))Z()&&tt("bad-url");else if(u==92){if(p(V()))Z()&&tt("bad-url");else v.append(nt())}else v.append(u);break;case"bad-url":if(K())Z()&&G(new b)&&tt("data");else if(u==41)G(new b)&&tt("data");else if(u==92){if(p(V()))Q();else nt()}else Q();break;case"unicode-range":var rt=[u],it=[u];for(var st=1;st<6;st++){if(r(V())){$();rt.push(u);it.push(u)}else break}if(V()==63){for(;st<6;st++){if(V()==63){$();rt.push("0".charCodeAt(0));it.push("f".charCodeAt(0))}else break}G(new z(rt,it))&&tt("data")}else if(V(1)==45&&r(V(2))){$();$();it=[u];for(var st=1;st<6;st++){if(r(V())){$();it.push(u)}else break}G(new z(rt,it))&&tt("data")}else G(new z(rt))&&tt("data");break;default:et("Unknown state '"+o+"'")}}}function m(e){return String.fromCharCode.apply(null,e.filter(function(e){return e}))}function g(e){return this}function y(){return this}function b(){return this}function w(){return this}function E(){return this}function S(){return this}function x(){return this}function T(){return this}function N(){return this}function C(){return this}function k(){return this}function L(){return this}function A(){return this}function O(){return this}function M(){return this}function _(e){this.value=String.fromCharCode(e);return this}function D(){return this}function P(e){this.value=[];this.append(e)}function H(e){this.value=e.finish().value}function B(e){this.value=[];this.append(e)}function j(e){this.value=[];this.append(e)}function F(e){this.value=[];this.append(e)}function I(e){this.value=[];this.append(e)}function q(e){this.value=[];this.append(e);this.type="integer"}function R(e){e.finish();this.value=e.value;this.repr=e.repr}function U(e,t){e.finish();this.num=e.value;this.unit=[];this.repr=e.repr;this.append(t)}function z(e,t){e=parseInt(m(e),16);if(t===undefined)t=e+1;else t=parseInt(m(t),16);if(e>d)t=e;if(t<e)t=e;if(t>d)t=d;this.start=e;this.end=t;return this}var t=function(e,t,n){return e>=t&&e<=n};var d=1114111;g.prototype.finish=function(){return this};g.prototype.toString=function(){return this.tokenType};g.prototype.toSourceString=g.prototype.toString;g.prototype.toJSON=function(){return this.toString()};y.prototype=new g;y.prototype.tokenType="BADSTRING";b.prototype=new g;b.prototype.tokenType="BADURL";w.prototype=new g;w.prototype.tokenType="WHITESPACE";w.prototype.toString=function(){return"WS"};w.prototype.toSourceString=function(){return" "};E.prototype=new g;E.prototype.tokenType="CDO";S.prototype=new g;S.prototype.tokenType="CDC";x.prototype=new g;x.prototype.tokenType=":";T.prototype=new g;T.prototype.tokenType=";";N.prototype=new g;N.prototype.tokenType="{";C.prototype=new g;C.prototype.tokenType="}";k.prototype=new g;k.prototype.tokenType="[";L.prototype=new g;L.prototype.tokenType="]";A.prototype=new g;A.prototype.tokenType="(";O.prototype=new g;O.prototype.tokenType=")";M.prototype=new g;M.prototype.tokenType="EOF";_.prototype=new g;_.prototype.tokenType="DELIM";_.prototype.toString=function(){return"DELIM("+this.value+")"};_.prototype.toSourceString=function(){return this.value};D.prototype=new g;D.prototype.append=function(e){if(e instanceof Array){for(var t=0;t<e.length;t++){this.value.push(e[t])}}else{this.value.push(e)}return true};D.prototype.finish=function(){this.value=this.valueAsString();return this};D.prototype.ASCIImatch=function(e){return this.valueAsString().toLowerCase()==e.toLowerCase()};D.prototype.valueAsString=function(){if(typeof this.value=="string")return this.value;return m(this.value)};D.prototype.valueAsCodes=function(){if(typeof this.value=="string"){var e=[];for(var t=0;t<this.value.length;t++)e.push(this.value.charCodeAt(t));return e}return this.value.filter(function(e){return e})};P.prototype=new D;P.prototype.tokenType="IDENT";P.prototype.toString=function(){return"IDENT("+this.value+")"};P.prototype.toSourceString=function(){return this.value};H.prototype=new D;H.prototype.tokenType="FUNCTION";H.prototype.toString=function(){return"FUNCTION("+this.value+")"};H.prototype.toSourceString=function(){return this.value};B.prototype=new D;B.prototype.tokenType="AT-KEYWORD";B.prototype.toString=function(){return"AT("+this.value+")"};B.prototype.toSourceString=function(){return"@"+this.value};j.prototype=new D;j.prototype.tokenType="HASH";j.prototype.toString=function(){return"HASH("+this.value+")"};j.prototype.toSourceString=function(){return"#"+this.value};F.prototype=new D;F.prototype.tokenType="STRING";F.prototype.toString=function(){return'"'+this.value+'"'};F.prototype.toSourceString=F.prototype.toString;I.prototype=new D;I.prototype.tokenType="URL";I.prototype.toString=function(){return"URL("+this.value+")"};I.prototype.toSourceString=function(){return"url('"+this.value+"')"};q.prototype=new D;q.prototype.tokenType="NUMBER";q.prototype.toString=function(){if(this.type=="integer")return"INT("+this.value+")";return"NUMBER("+this.value+")"};q.prototype.toSourceString=function(){if(this.type=="integer")return this.value;return this.value};q.prototype.finish=function(){this.repr=this.valueAsString();this.value=this.repr*1;if(Math.abs(this.value)%1!=0)this.type="number";return this};R.prototype=new g;R.prototype.tokenType="PERCENTAGE";R.prototype.toString=function(){return"PERCENTAGE("+this.value+")"};R.prototype.toSourceString=function(){return this.value+"%"};U.prototype=new g;U.prototype.tokenType="DIMENSION";U.prototype.toString=function(){return"DIM("+this.num+","+this.unit+")"};U.prototype.toSourceString=function(){return this.num+this.unit};U.prototype.append=function(e){if(e instanceof Array){for(var t=0;t<e.length;t++){this.unit.push(e[t])}}else{this.unit.push(e)}return true};U.prototype.finish=function(){this.unit=m(this.unit);this.repr+=this.unit;return this};z.prototype=new g;z.prototype.tokenType="UNICODE-RANGE";z.prototype.toString=function(){if(this.start+1==this.end)return"UNICODE-RANGE("+this.start.toString(16).toUpperCase()+")";if(this.start<this.end)return"UNICODE-RANGE("+this.start.toString(16).toUpperCase()+"-"+this.end.toString(16).toUpperCase()+")";return"UNICODE-RANGE()"};z.prototype.toSourceString=function(){if(this.start+1==this.end)return"UNICODE-RANGE("+this.start.toString(16).toUpperCase()+")";if(this.start<this.end)return"UNICODE-RANGE("+this.start.toString(16).toUpperCase()+"-"+this.end.toString(16).toUpperCase()+")";return"UNICODE-RANGE()"};z.prototype.contains=function(e){return e>=this.start&&e<this.end};e.tokenize=v});(function(e,t){if(typeof define==="function"&&define.amd){define(["exports"],t)}else if(typeof exports!=="undefined"){t(exports)}else{t(e)}})(this,function(e){function t(e){function x(){switch(l.tokenType){case"(":case"[":case"{":return T();case"FUNCTION":return N();default:return l}}function T(){var e={"(":")","[":"]","{":"}"}[l.tokenType];var t=new u(l.tokenType);for(;;){d();switch(l.tokenType){case"EOF":case e:return t;default:t.append(x())}}}function N(){var e=new a(l.value);var t=new f;for(;;){d();switch(l.tokenType){case"EOF":case")":e.append(t);return e;case"DELIM":if(l.value==","){e.append(t);t=new f}else{t.append(l)}break;default:t.append(x())}}}var t="top-level";var n=-1;var l;var c=new r;var h=[c];var p=h[0];var d=function(t){if(t===undefined)t=1;n+=t;if(n<e.length)l=e[n];else l=new EOFToken;return true};var v=function(){n--;return true};var m=function(){return e[n+1]};var g=function(e){if(e===undefined){if(p.fillType!=="")t=p.fillType;else if(p.type=="STYLESHEET")t="top-level";else{console.log("Unknown rule-type while switching to current rule's content mode: ",p);t=""}}else{t=e}return true};var y=function(e){p=e;h.push(p);return true};var b=function(e){console.log("Parse error at token "+n+": "+l+".\n"+e);return true};var w=function(){var e=h.pop();p=h[h.length-1];p.append(e);return true};var E=function(){h.pop();p=h[h.length-1];return true};var S=function(){while(h.length>1){w()}};for(;;){d();if(l.tokenType==="DELIM"&&l.value==="\r")continue;switch(t){case"top-level":switch(l.tokenType){case"CDO":case"CDC":case"WHITESPACE":break;case"AT-KEYWORD":y(new i(l.value))&&g("at-rule");break;case"{":b("Attempt to open a curly-block at top-level.")&&x();break;case"EOF":S();return c;default:y(new s)&&g("selector")&&v()}break;case"at-rule":switch(l.tokenType){case";":w()&&g();break;case"{":if(p.fillType!=="")g(p.fillType);else b("Attempt to open a curly-block in a statement-type at-rule.")&&E()&&g("next-block")&&v();break;case"EOF":S();return c;default:p.appendPrelude(x())}break;case"rule":switch(l.tokenType){case"WHITESPACE":break;case"}":w()&&g();break;case"AT-KEYWORD":y(new i(l.value))&&g("at-rule");break;case"EOF":S();return c;default:y(new s)&&g("selector")&&v()}break;case"selector":switch(l.tokenType){case"{":g("declaration");break;case"EOF":E()&&S();return c;default:p.appendSelector(x())}break;case"declaration":switch(l.tokenType){case"WHITESPACE":case";":break;case"}":w()&&g();break;case"AT-RULE":y(new i(l.value))&&g("at-rule");break;case"IDENT":y(new o(l.value))&&g("after-declaration-name");break;case"EOF":S();return c;default:b()&&E()&&g("next-declaration")}break;case"after-declaration-name":switch(l.tokenType){case"WHITESPACE":break;case":":g("declaration-value");break;case";":b("Incomplete declaration - semicolon after property name.")&&E()&&g();break;case"EOF":E()&&S();return c;default:b("Invalid declaration - additional token after property name")&&E()&&g("next-declaration")}break;case"declaration-value":switch(l.tokenType){case"DELIM":if(l.value=="!"&&m().tokenType=="IDENTIFIER"&&m().value.toLowerCase()=="important"){d();p.important=true;g("declaration-end")}else{p.append(l)}break;case";":w()&&g();break;case"}":w()&&w()&&g();break;case"EOF":S();return c;default:p.append(x())}break;case"declaration-end":switch(l.tokenType){case"WHITESPACE":break;case";":w()&&g();break;case"}":w()&&w()&&g();break;case"EOF":S();return c;default:b("Invalid declaration - additional token after !important.")&&E()&&g("next-declaration")}break;case"next-block":switch(l.tokenType){case"{":x()&&g();break;case"EOF":S();return c;default:x();break}break;case"next-declaration":switch(l.tokenType){case";":g("declaration");break;case"}":g("declaration")&&v();break;case"EOF":S();return c;default:x();break}break;default:console.log("Unknown parsing mode: "+t);return}}}function n(){return this}function r(){this.value=[];return this}function i(e){this.name=e;this.prelude=[];this.value=[];if(e in i.registry)this.fillType=i.registry[e];return this}function s(){this.selector=[];this.value=[];return this}function o(e){this.name=e;this.value=[];return this}function u(e){this.name=e;this.value=[];return this}function a(e){this.name=e;this.value=[];return this}function f(){this.value=[];return this}n.prototype.fillType="";n.prototype.toString=function(e){return JSON.stringify(this.toJSON(),null,e)};n.prototype.append=function(e){this.value.push(e);return this};r.prototype=new n;r.prototype.type="STYLESHEET";r.prototype.toJSON=function(){return{type:"stylesheet",value:this.value.map(function(e){return e.toJSON()})}};i.prototype=new n;i.prototype.type="AT-RULE";i.prototype.appendPrelude=function(e){this.prelude.push(e);return this};i.prototype.toJSON=function(){return{type:"at",name:this.name,prelude:this.prelude.map(function(e){return e.toJSON()}),value:this.value.map(function(e){return e.toJSON()})}};i.registry={"import":"",media:"rule","font-face":"declaration",page:"declaration",keyframes:"rule",namespace:"","counter-style":"declaration",supports:"rule",document:"rule","font-feature-values":"declaration",viewport:"","region-style":"rule"};s.prototype=new n;s.prototype.type="STYLE-RULE";s.prototype.fillType="declaration";s.prototype.appendSelector=function(e){this.selector.push(e);return this};s.prototype.toJSON=function(){return{type:"selector",selector:this.selector.map(function(e){return e.toJSON()}),value:this.value.map(function(e){return e.toJSON()})}};o.prototype=new n;o.prototype.type="DECLARATION";o.prototype.toJSON=function(){return{type:"declaration",name:this.name,value:this.value.map(function(e){return e.toJSON()})}};u.prototype=new n;u.prototype.type="BLOCK";u.prototype.toJSON=function(){return{type:"block",name:this.name,value:this.value.map(function(e){return e.toJSON()})}};a.prototype=new n;a.prototype.type="FUNCTION";a.prototype.toJSON=function(){return{type:"func",name:this.name,value:this.value.map(function(e){return e.toJSON()})}};f.prototype=new n;f.prototype.type="FUNCTION-ARG";f.prototype.toJSON=function(){return this.value.map(function(e){return e.toJSON()})};e.parse=t});(function(){var e,t,n,r,i;e=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];n=function(){var t,n,r;r=false;n=0;while(n<e.length){try{r=e[n++]()}catch(i){t=i;continue}break}return r};t=function(e,t){var r;r=n();r.onreadystatechange=function(){if(r.readyState!==4){return}if(r.status!==200){throw"Error!"}t(r.responseText)};r.open("GET",e,true);r.send()};r=function(){var e,t;e=0;t=0;if(window.innerHeight){e=window.innerWidth;t=window.innerHeight}else if(document.documentElement&&document.documentElement.clientHeight){e=document.documentElement.clientWidth;t=document.documentElement.clientHeight}else if(document.body){e=document.body.clientWidth;t=document.body.clientHeight}return{width:e,height:t}};i=function(){var e,n,i,s,o,u,a,f,l,c,h,p;e=function(e){var t,n,r,i,s,o,u,a,f,l;n=[];f=e.value;for(s=0,u=f.length;s<u;s++){t=f[s];r=false;l=t.value;for(o=0,a=l.length;o<a;o++){i=l[o];if(i.tokenType==="DIMENSION"&&(i.unit==="vmin"||i.unit==="vh"||i.unit==="vw")){r=true}}if(r){n.push(t)}}e.value=n;return n};n=function(t){var r,i,s,o,u,a,f;o=[];f=t.value;for(u=0,a=f.length;u<a;u++){s=f[u];switch(s.type){case"STYLE-RULE":i=e(s);if(i.length!==0){o.push(s)}break;case"AT-RULE":r=n(s);if(r.length!==0){o.push(s)}}}t.value=o;return o};a=function(){var e,t,n,i,s,o,u,a,f;f=r();t={vh:f.height/100,vw:f.width/100};t.vmin=Math.min(t.vh,t.vw);a=f.width/f.height;s=function(e,t){var n,r,i,s;if(e.map!=null){return e.map(t)}else{n=[];for(i=0,s=e.length;i<s;i++){r=e[i];n.push(t(r))}return n}};n=function(e){var n,r,i,o,u,a,f,l,c,h;r=[];i=s(e.selector,function(e){if(e.toSourceString!=null){return e.toSourceString()}else{return""}}).join("");i+="{";c=e.value;for(u=0,f=c.length;u<f;u++){n=c[u];i+=n.name;i+=":";h=n.value;for(a=0,l=h.length;a<l;a++){o=h[a];if(o.tokenType==="DIMENSION"&&(o.unit==="vmin"||o.unit==="vh"||o.unit==="vw")){i+=""+Math.floor(o.num*t[o.unit])+"px"}else{i+=o.toSourceString()}}i+=";"}i+="}\r";return i};i=function(e){var t,r,o,u,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T;f="";E=e.value;for(p=0,g=E.length;p<g;p++){u=E[p];switch(u.type){case"STYLE-RULE":f+=n(u);break;case"AT-RULE":if(u.name==="media"){o="";t=false;r=[];S=u.prelude;for(d=0,y=S.length;d<y;d++){c=S[d];if(c.name==="("){o+="(";x=c.value;for(v=0,b=x.length;v<b;v++){h=x[v];l=h.toSourceString!=null?h.toSourceString():"";if(h.tokenType==="IDENT"&&l==="max-aspect-ratio"){t=true}if(h.tokenType==="NUMBER"){r.push(parseInt(l))}o+=l}o+=")"}else{o+=c.toSourceString()}}if(a<r[0]/r[1]){f+=i(u)}}else{o="";T=u.prelude;for(m=0,w=T.length;m<w;m++){c=T[m];if(c.name==="("){o+="(";o+=s(c.value,function(e){if(e.toSourceString!=null){return e.toSourceString()}else{return""}}).join("");o+=")"}else{o+=c.toSourceString()}}f+="@"+u.name+" "+o+" {";f+=i(u);f+="}\n"}}}return f};e="";for(u in l){o=l[u];e+=i(o)}if(c.styleSheet!=null){return c.styleSheet.cssText=e}else{return c.innerHTML=e}};l={};c=document.createElement("style");i=document.getElementsByTagName("head")[0];i.appendChild(c);u=document.getElementsByTagName("link");o=0;f=0;for(h=0,p=u.length;h<p;h++){s=u[h];if(s.rel!=="stylesheet"){continue}o++;t(s.href,function(e){var t,r;r=tokenize(e);t=parse(r);n(t);l[s.href]=t;f++;if(f===o){window.onresize()}})}window.onresize=a};i()}).call(this)